# [Контест STL](https://contest.yandex.ru/contest/36912/problems/)

## Задача 1 (Компаратор)

Юный программист Саша написал свою первую тестирующую систему. Он так обрадовался тому, что она скомпилировалась, что решил пригласить школьных друзей на свой собственный контест.

Но в конце тура выяснилось, что система не умеет сортировать команды в таблице результатов. Помогите Саше реализовать эту сортировку.

Команды упорядочиваются по правилам ACM:

1. по количеству решённых задач в порядке убывания;
2. при равенстве количества решённых задач – по штрафному времени в порядке возрастания;
3. при прочих равных — по номеру команды в порядке возрастания.

Используйте в этой задаче std::vector, std::sort и собственный компаратор.

**Формат ввода** \
Первая строка содержит натуральное число $n$ $(1 ≤ n ≤ 105)$ — количество команд, участвующих в контесте.

В $i$-й из следующих $n$ строк записано количество решенных задач $S$ $(0 ≤ S ≤ 100)$ и штрафное время $T$ $(0 ≤ T ≤ 105)$ команды с номером $i$.

**Формат вывода** \
В выходной файл выведите n чисел — номера команд в отсортированном порядке.

**Пример** 
| **Ввод** | **Вывод** |
|----------|-----------|
| 5        | 5         |
| 3 50     | 2         |
| 5 720    | 1         |
| 1 7      | 3         |
| 0 0      | 4         |
| 8 500    |           |

## Задача 2 (Зверюшки)

Уже долгое время в Институте Мутантов, Фич Технологических и Иностранных языков разводят милых разноцветных зверюшек. Для удобства каждый цвет обозначен своим номером, всего цветов не более $10^9$.

В один из прекрасных дней в питомнике случилось чудо: все зверюшки выстроились в ряд в порядке возрастания цветов. Пользуясь случаем, лаборанты решили посчитать, сколько зверюшек разных цветов живет в питомнике, и, по закону жанра, попросили вас написать программу, которая поможет им в решении этой нелегкой задачи.

Для решения этой задачи используйте std::vector и библиотеку $algorithm$.

**Формат ввода** \
В первой строке входного файла содержится единственное число $N$ $(0 ≤ N ≤ 10^5)$ — количество зверюшек в Институте.

В следующей строке находятся N упорядоченных по неубыванию неотрицательных целых чисел, не превосходящих 109 и разделенных пробелами — их цвета.

В третьей строке файла записано число $M$ $(1 ≤ M ≤ 100000)$ — количество запросов вашей программе, в следующей строке через пробел записаны M целых неотрицательных чисел (не превышающих $10^9+1$).



**Формат вывода** \
Выходной файл должен содержать $M$ строчек. Для каждого запроса выведите число зверюшек заданного цвета в питомнике.

**Пример** 
| **Ввод**               | **Вывод** |
|------------------------|-----------|
| 10                     | 1         |
| 1 1 3 3 5 7 9 18 18 57 | 2         |
| 5                      | 1         |
| 57 3 9 1 179           | 2         |
|                        | 0         |

## Задача 3 (Встреча)

Напишите программу, которая определяет, сколько раз встречается заданное число x в данном массиве. Используйте последовательный контейнер и библиотеку алгоритмов для решения задачи. Старайтесь избегать циклов.

**Формат ввода** \
В первой строке задается одно натуральное число N, не превосходящее 1,000,000 — размер массива.

Во второй строке вводятся N чисел — элементы массива (целые числа, не превосходящие по модулю 1,000).

В третьей строке содержится одно целое число x , не превосходящее по модулю 1,000,000.

**Формат вывода** \
Вывести одно число — сколько раз встречается x в данном массиве.

**Пример**

| **Ввод**  | **Вывод** |
|-----------|-----------|
| 5         | 1         |
| 1 2 3 4 5 |           |
| 3         |           |

## Задача 4 (Список смежности)

В этой задаче необходимо организовать неориентированный граф, на котором поддерживаются следующие операции:

1. AddEdge(u, v) — добавить в граф ребро между вершинами (u, v).
2. Vertex(u) — вывести список вершин, смежных с вершиной u.

Петель и кратных ребер в графе нет. Для решения данной задачи используйте последовательные контейнеры из STL.

**Формат ввода** \
В первой строке входного файла содержится целое число $N$ $(1 ≤ N ≤ 10^6)$ — количество вершин в графе.

В следующей строке находится целое числоK $(0 ≤ K ≤ 10^6)$ — число операций, затем идет описание операций — каждое в своей строке.

Операции имеют следующий формат: «1 u v» или «2 u», обозначающие соответственно операции AddEdge(u, v) и Vertex(u).

Гарантируется, что суммарное количество чисел, которое будет необходимо вывести при выполнении всех операций Vertex не превосходит $2⋅ 10^5$.

**Формат вывода** \
В выходной файл для каждой команды Vertex необходимо на отдельной строке вывести список смежных вершин указанной вершины. Вершины списка смежности нужно выводить в порядке добавления соответствующих ребер в граф.

**Пример**
| **Ввод** | **Вывод** |
|----------|-----------|
| 4        | 1 3       |
| 4        |           |
| 1 1 2    |           |
| 1 2 3    |           |
| 2 2      |           |
| 1 1 3    |           |

## Задача 5 (Словарь)

Вам дан словарь, состоящий из пар слов. Каждое слово является синонимом к парному ему слову. Все слова в словаре различны. Для каждого данного слова определите его синоним.

Для решения данной задачи используйте std::unordered_map

**Формат ввода** \
Программа получает на вход количество пар синонимов $N$ $(0 ≤ N ≤ 10^5)$. Далее следует N строк, каждая строка содержит ровно два слова-синонима.

Затем идет число $Q$ $(1 ≤ Q ≤ 10^5)$ — количество запросов к словарю. Далее на каждой следующей из $Q$ строк идет слово, к которому надо вывести синоним.

**Формат ввывода** \
Программа должна вывести синонимы к данным слову на отдельных строках.

**Пример**
| **Ввод**    | **Вывод** |
|-------------|-----------|
| 3           | car       |
| car plane   | base      |
| mouse cat   | stream    |
| base stream |           |
| 3           |           |
| plane       |           |
| stream      |           |
| base        |           |

## Задача 6 (Банк)

У банка есть клиенты. Каждый клиент имеет ровно один счет.

Напишите программу, которая будет выполнять последовательность запросов таких двух видов:

1. Начинается с числа 1, затем через пробел следует имя клиента (слово из латинских букв), далее через пробел идет сумма денег, которую клиент кладет или берет из счета в банке (целое число, не превышает по модулю 10000).
2. Начинается с числа 2, через пробел следует имя клиента. На каждый такой запрос программа должна ответить какая сумма в данный момент есть на счету заданного клиента. Если такое имя клиента пока ни разу не упоминалось в запросах вида 1, выводите вместо числа слово «ERROR».

В начале работы программы у всех клиентов на счету 0. Затем суммы могут становиться как положительными, так и отрицательными.

Обратите внимание, что в ситуации, когда клиент снял суммарно ровно столько же денег, сколько положил, сумма на счете становится равной 0, но, раз его имя уже встречалось, нулевое значение не является основанием выводить «ERROR».

Для решения задачи используйте ассоциативный контейнер.

**Формат ввода** \
Первая строка стандартного входного потока количество запросов $N$ $(1 ≤ N ≤ 10^5)$. Далее следуют N строк в каждой из которых описан один из двух описанных выше видов запроса.

**Формат вывода** \
На каждый запрос 2-го вида нужно вывести текущее значение на счету заданного клиента (или слово «ERROR»).

**Пример**
| **Ввод**  | **Вывод** |
|-----------|-----------|
| 7         | 3         |
| 1 asdf 3  | 1         |
| 1 zxcv 5  | ERROR     |
| 2 asdf    | 5         |
| 1 asdf -2 |           |
| 2 asdf    |           |
| 2 lalala  |           |
| 2 zxcv    |           |


## Задача 7 (Частотность)

Дан текст. Выведите все слова, встречающиеся в тексте, по одному на каждую строку. Слова должны быть отсортированы по убыванию их количества появления в тексте, а при одинаковой частоте появления в лексикографическом порядке.

**Формат ввода** \
Вводится текст — последовательность строк через пробел или перенос строки.

**Формат вывода** \
Выведите ответ на задачу.

**Пример**
| **Ввод**              | **Вывод** |
|-----------------------|-----------|
| hi                    | damme     |
| hi                    | is        |
| what is your name     | name      |
| my name is bond       | van       |
| james bond            | bond      |
| my name is damme      | claude    |
| van damme             | hi        |
| claude van damme      | my        |
| jean claude van damme | james     |
|                       | jean      |
|                       | what      |
|                       | your      |

## Задача 8 (База данных)

Дана база данных о продажах некоторого интернет-магазина. Каждая строка входного файла представляет собой запись вида покупатель-товар-количество , где покупатель — имя покупателя (строка без пробелов), товар — название товараc (строка без пробелов), количество — количество приобретённых единиц товара.

Создайте список всех покупателей и для каждого покупателя подсчитайте количество приобретенных им единиц каждого вида товаров.

**Формат ввода** \
Во входном файле записано не более $10^5$ строк в указанном формате.

Имена покупателей и названия товаров представляют собой строки из заглавных и строчных латинских букв не длиннее 10 символов. Количество товара в каждой покупке — натуральное число, не превышающее $10^6$.

**Формат вывода** \
Выведите список всех покупателей в лексикографическом порядке, после имени каждого покупателя выведите двоеточие, затем выведите список названий всех приобретенных данным покупателем товаров в лексикографическом порядке, после названия каждого товара выведите количество единиц товара, приобретенных данным покупателем.

Информация о каждом товаре выводится в отдельной строке.

**Пример**
| **Ввод**        | **Вывод**   |
|-----------------|-------------|
| Ivanov paper    | Ivanov:     |
| Petrov pen      | envelope 5  |
| Ivanov marker   | marker 3    |
| Ivanov paper    | paper 17    |
| Petrov envelope | Petrov:     |
| Ivanov envelope | envelope 20 |
|                 | pen 5       |

## Задача 9 (Недешевый калькулятор)

Студенты ФПМИ придумали новую версию калькулятора. Этот калькулятор берет с пользователя валюту за совершаемые операции. Стоимость каждой операции в ФПМИ-коинах равна 5% от числа, которое является результатом операции.

На этом калькуляторе требуется вычислить сумму N натуральных чисел (числа, так уж и быть, известны). Нетрудно заметить, что от того, в каком порядке мы будем складывать эти числа, иногда зависит, в какую ФПМИ-коинов нам обойдется вычисление суммы чисел (то есть оказывается нарушено великое правило «от перестановки мест слагаемых сумма не меняется»).

Например, пусть нам нужно сложить числа 10, 11, 12, 13. Подумайте, как от порядка вычислений зависит ответ. Напишите программу, используя std::priority_queue или функции для работы с пирамидой из $<algorithm>$, которая будет определять, за какую минимальную сумму ФПМИ-коинов можно найти сумму данных N чисел.

**Формат ввода** \
Во входном файле записано число $N$ $(2 ≤ N ≤ 10^5)$. Далее идет N натуральных чисел, которые нужно сложить, каждое из них не превышает $10^4$.

**Формат вывода** \
В выходной файл выведите, сколько ФПМИ-коинов нам потребуется на нахождение суммы этих N чисел.

**Пример**
| **Ввод**    | **Вывод** |
|-------------|-----------|
| 4           | 4.6       |
| 10 11 12 13 |           |


## Задача 10 (Радио)

Компания «Аудио Квадрат» захватила значительную долю рынка музыкальных товаров и услуг. В частности она делает персональное радио для каждого человека, которое учитывает его музыкальные предпочтения и текущее настроение.

Но параллельно, just for fun, компания запускает проект общественного радио. Это радио, в котором песня выбирается в соответствии с пожеланиями множества проголосовавших пользователей.

Алгоритм общественного радио безумно прост. Посетители интернет сайта «Аудио Квадрата» постоянно голосуют за отдельные композиции (с одного IP можно проголосовать в течении 10 минут только за одну композицию). Голос может иметь вес score. Для каждой композиции считаются очки — track_score. Следующей композицией, которая будет играть на радио, станет та, которая имеет максимальное количество очков. Если таких композиций несколько, то должна играть та, которая имеет минимальный идентификатор. В момент, когда композиция запускается на радио, её track_score становится равным -1.

Чтобы исключить попытки накручивания счётчика определёнными группами лиц, компания решила принимать голоса с одного IP не чаще раза в 10 минут (два голоса могут быть приняты, если между ними не менее шестисот секунд).

Вы являетесь главным разработчиком компании «Аудио Квадрат». И хотя у вас в подчинении множество высококлассных программистов, вы решили вспомнить старые добрые времена и запрограммировать этот алгоритм сами.

Общественных радио будет много, поэтому важно, чтобы каждое из них работало достаточно эффективно, то есть не отнимало много процессорных ресурсов и оперативной памяти.

Необходимо написать программу, реализующую алгоритм работы одного общественного радио. Взаимодействие с программой будет осуществляться через стандартный поток ввода/вывода согласно заданному ниже протоколу.

Для решения этой задачи используйте ассоциативные контейнеры и очереди с приоритетами.

**Формат ввода** \
Каждая строчка входа — это определенная команда. Всего 3 типа команд:

VOTE ip track_id score time
GET
EXIT
Команда V OT E меняет число очков track_score определённой композиции. Она получает четыре аргумента:

• ip — IP адрес компьютера, с которого пришел голос; четыре целых числа из промежутка [0, 255], разделённых точкой

• track_id — численный идентификатор композиции; натуральное число из отрезка [1, 2 · 107 ];

• score — количество очков, которое нужно добавить к текущим очкам композиции track_score — целое число из отрезка [−100, 100];

• time — момент времени в секундах от некоторого фиксированного момента времени — целое число из промежутка [0, 2 · 109 ].

На команду VOTE нужно отвечать новым значением очков музыкальной композиции track_id (даже если эти очки не изменились).

Команда GET используется для получения следующей композиции. Ваша программа должна отвечать на неё парой track_id и track_score (вывести эти два числа в одной строке, разделив их пробелом). Сразу после выполнения этой команды новое значение track_score для этой композиции должно стать равным -1.

Команда EXIT находится в последней строке входа. При её получении необходимо вывести строку «OK». Число команд на входе не более 100001. Изначально значение track_score для всех композиций равно 0.

Команды во входных данных упорядочены по параметру time (для двух из трёх команд этот параметр просто не передаётся, так как не нужен).

**Формат вывода** \
Выход должен содержать ровно столько же строчек, что и вход. Каждая строчка выхода — это ответ на соответствующую команду из входа.

**Пример 1**
| **Ввод**                      | **Вывод** |
|-------------------------------|-----------|
| GET                           | 1 0       |
| VOTE 1.1.1.1 1 -1 1           | -2        |
| VOTE 1.1.1.1 2 1 2            | 0         |
| VOTE 1.1.1.1 1 2 4            | -2        |
| VOTE 1.1.1.1 1 4 20045        | 2         |
| GET                           | 1 2       |
| GET                           | 2 0       |
| GET                           | 3 0       |
| VOTE 194.85.81.128 3 -1 20049 | -2        |
| EXIT                          | OK        |

**Пример 2**
| **Ввод**                      | **Вывод** |
|-------------------------------|-----------|
| GET                           | 1 0       |
| GET                           | 2 0       |
| GET                           | 3 0       |
| VOTE 192.168.0.1 2 2 11111111 | 1         |
| EXIT                          | OK        |